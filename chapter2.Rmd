# Chapter 2 - Loading, Exploring and Modeling the Learning2014 Dataset
##### This week's object of study was the Learning2014 dataset. The Learning2014 dataset contains the results of a survey whose aim was to map out how different things affect the learning of university students. The data was collected from the students of Introduction to Social Statistics in the fall of 2014 (a course taught by Kimmo Vehkalahti in the University of Helsinki). I will analyse the Learning2014 data by going trough the typical following phases.

* ***Load the data***
* ***Explore the data***
* ***Model the data***

***

*Describe the work you have done this week and summarize your learning.*

- Describe your work and results clearly. 
- Assume the reader has an introductory course level understanding of writing and reading R code as well as statistical methods
- Assume the reader has no previous knowledge of your data or the more advanced methods you are using


```{r, echo= FALSE}
### Install the packages which are needed
### install.packages("ggplot2")
library(ggplot2)

### install.packages("GGally")
library(GGally)
```

```{r, echo= FALSE}
### Load in the dplyr library that has many usefule functions for data wrangling
library(dplyr)
```
## 1. Load the data
1. Read the data(-frame) from a .csv-file with the read.table -function

```{r, echo = FALSE}

lrn2014 <- read.table("data/learning2014.csv", sep=",",  header=TRUE)

```

```{r, echo=FALSE}
###lrn2014 <- read.table("http://s3.amazonaws.com/assets.datacamp.com/production/course_2218/datasets/learning2014.txt", sep=",", header=TRUE)
```
```{r}

```
## 2. Exploring the data
1. Show the structure of the dataframe with the str() function 

```{r}
str(lrn2014)



```
2. Show the dimensions of the dataframe with the dim() function
```{r}
dim(lrn2014)
```
3. Show 10 first observations by using the head() -function
```{r}
head(lrn2014, 10)
```
#### Visualize the data by plotting it
##### Show a graphical overview and summaries of the data (2.2)

```{r, echo= FALSE}
#ggplot(lrn2014, aes(x= gender, y=points)) + geom_point()
#ggplot(lrn2014, aes(x= age, y=points)) + geom_point()
#ggplot(lrn2014, aes(x= attitude, y=points)) + geom_point()
#ggplot(lrn2014, aes(x= deep, y=points)) + geom_point()
#ggplot(lrn2014, aes(x= stra, y=points)) + geom_point()
#ggplot(lrn2014, aes(x= surf, y=points)) + geom_point()

```
*Add your overview analyses here*
```{r}
ggpairs(lrn2014[-1], mapping = aes(col = gender, alpha = 0.3), lower = list(combo = wrap("facethist", bins = 20)))

### p2 <- pairs(learning2014, , col=learning2014$gender) 
```
#### Build a data model
*Choose three variables as explanatory variables and fit a regression model where exam points is the target (dependent) variable. Show a summary of the fitted model and comment and interpret the results. Explain and interpret the statistical test related to the model parameters. If an explanatory variable in your model does not have a statistically significant relationship with the target variable, remove the variable from the model and fit the model again without it.*
#### Exam points as the dependent variable and age, gender and attitude as explanatory variables

```{r}
#age --> Age, points --> Points
ggplot(lrn2014, aes(x= Age, y=Points, col=attitude)) + geom_point() + facet_grid(. ~ gender)
```

##### Fitting the regession model to the graphic shown above

```{r}
#age --> Age
ggplot(lrn2014, aes(x= Age, y=Points, col=attitude)) + geom_point() + facet_grid(. ~ gender) + stat_smooth(method="lm", col="red")
```

##### Adding a smooth line to the graphic shown above

```{r}
#age --> Age
ggplot(lrn2014, aes(x= Age, y=Points, col=attitude)) + geom_point() + facet_grid(. ~ gender) + geom_smooth() +stat_smooth(method="lm", col="red")
```

#### Interpret the model parameters
*Using a summary of your fitted model, explain the relationship between the chosen explanatory variables and the target variable (interpret the model parameters). Explain and interpret the multiple R squared of the model.*

#### Diagnostic plots
*Produce the following diagnostic plots: Residuals vs Fitted values, Normal QQ-plot and Residuals vs Leverage. Explain the assumptions of the model and interpret the validity of those assumptions based on the diagnostic plots*  

